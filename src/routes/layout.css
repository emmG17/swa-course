@import 'tailwindcss';
@plugin '@tailwindcss/forms';
@plugin '@tailwindcss/typography';
@plugin '@iconify/tailwind4';

/* Class-based dark mode for manual toggle */
@custom-variant dark (&:where(.dark, .dark *));

/* Light mode tokens (default) */
@theme {
  --color-bg-primary: #FFFFFF;
  --color-bg-secondary: #F2F2F7;
  --color-bg-tertiary: #FFFFFF;
  --color-label-primary: #000000;
  --color-label-secondary: rgba(60, 60, 67, 0.6);
  --color-separator: rgba(60, 60, 67, 0.29);
  --color-apple-green: #34C759;
}

/* Dark mode token overrides */
.dark {
  --color-bg-primary: #000000;
  --color-bg-secondary: #1C1C1E;
  --color-bg-tertiary: #2C2C2E;
  --color-label-primary: #FFFFFF;
  --color-label-secondary: rgba(235, 235, 245, 0.6);
  --color-separator: rgba(84, 84, 88, 0.65);
  --color-apple-green: #30D158;
}

/* Prose typography overrides */
.prose {
  --tw-prose-body: var(--color-label-primary);
  --tw-prose-headings: var(--color-label-primary);
  --tw-prose-links: var(--color-apple-green);
  --tw-prose-bold: var(--color-label-primary);
  --tw-prose-counters: var(--color-label-secondary);
  --tw-prose-bullets: var(--color-label-secondary);
  --tw-prose-hr: var(--color-separator);
  --tw-prose-quotes: var(--color-label-primary);
  --tw-prose-quote-borders: var(--color-apple-green);
  --tw-prose-code: var(--color-label-primary);
  --tw-prose-pre-code: var(--color-label-primary);
  --tw-prose-pre-bg: var(--color-bg-secondary);
  --tw-prose-th-borders: var(--color-separator);
  --tw-prose-td-borders: var(--color-separator);
}

/* Base element styling */
body {
  background-color: var(--color-bg-primary);
  color: var(--color-label-primary);
  transition: background-color 0.2s ease, color 0.2s ease;
  overflow-x: hidden;
}

/* Lava lamp background */
.lava-lamp {
  position: fixed;
  inset: 0;
  z-index: -1;
  overflow: hidden;
  filter: blur(80px);
  pointer-events: none;
}

.lava-blob {
  position: absolute;
  border-radius: 50%;
  background: var(--color-apple-green);
  opacity: 0.07;
}

.dark .lava-blob {
  opacity: 0.05;
}

.lava-blob-1 {
  width: 400px;
  height: 400px;
  top: 10%;
  left: 15%;
  animation: lava-float-1 18s ease-in-out infinite;
}

.lava-blob-2 {
  width: 300px;
  height: 300px;
  top: 50%;
  right: 10%;
  animation: lava-float-2 22s ease-in-out infinite;
}

.lava-blob-3 {
  width: 350px;
  height: 350px;
  bottom: 10%;
  left: 40%;
  animation: lava-float-3 20s ease-in-out infinite;
}

.lava-blob-4 {
  width: 250px;
  height: 250px;
  top: 30%;
  left: 60%;
  animation: lava-float-4 25s ease-in-out infinite;
}

.lava-blob-5 {
  width: 320px;
  height: 320px;
  top: 70%;
  left: 5%;
  animation: lava-float-5 19s ease-in-out infinite;
}

@keyframes lava-float-1 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(80px, 60px) scale(1.1); }
  50% { transform: translate(30px, 120px) scale(0.9); }
  75% { transform: translate(-50px, 40px) scale(1.05); }
}

@keyframes lava-float-2 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(-60px, -80px) scale(1.15); }
  50% { transform: translate(-100px, 20px) scale(0.85); }
  75% { transform: translate(40px, -40px) scale(1.1); }
}

@keyframes lava-float-3 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(70px, -90px) scale(0.95); }
  50% { transform: translate(-40px, -50px) scale(1.12); }
  75% { transform: translate(90px, -20px) scale(0.88); }
}

@keyframes lava-float-4 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(-70px, 100px) scale(1.2); }
  66% { transform: translate(50px, -60px) scale(0.8); }
}

@keyframes lava-float-5 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  20% { transform: translate(100px, -30px) scale(1.08); }
  40% { transform: translate(60px, -80px) scale(0.92); }
  60% { transform: translate(-30px, -60px) scale(1.15); }
  80% { transform: translate(-60px, 20px) scale(0.9); }
}
